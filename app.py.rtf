{\rtf1\ansi\ansicpg1252\cocoartf2761
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 import streamlit as st\
import pandas as pd\
\
# Udvidet initial ingrediensliste med kategorier (makrodata = estimeret standardv\'e6rdier)\
initial_ingredienser = [\
    # ... (samme som f\'f8r - beholdt intakt)\
]\
\
# Initialiser session state\
if "ingredienser" not in st.session_state or st.session_state.ingredienser.empty:\
    st.session_state.ingredienser = pd.DataFrame(initial_ingredienser, columns=[\
        "Navn", "Kategori", "Kalorier pr. 100g", "Protein pr. 100g",\
        "Fedt pr. 100g", "Kulhydrat pr. 100g"\
    ])\
\
st.title("Ingrediensdatabase - Madplan App")\
\
st.subheader("Tilf\'f8j eller redig\'e9r ingrediens")\
med_navne = st.session_state.ingredienser["Navn"].tolist()\
selected_ingredient = st.selectbox("V\'e6lg ingrediens for redigering eller ny", [""] + med_navne)\
\
if selected_ingredient and selected_ingredient in med_navne:\
    ingrediens_data = st.session_state.ingredienser[st.session_state.ingredienser["Navn"] == selected_ingredient].iloc[0]\
\
    navn = st.text_input("Navn", ingrediens_data["Navn"])\
    kategori = st.text_input("Kategori", ingrediens_data["Kategori"])\
    kalorier = st.number_input("Kalorier pr. 100g", value=ingrediens_data["Kalorier pr. 100g"])\
    protein = st.number_input("Protein pr. 100g", value=ingrediens_data["Protein pr. 100g"])\
    fedt = st.number_input("Fedt pr. 100g", value=ingrediens_data["Fedt pr. 100g"])\
    kulhydrat = st.number_input("Kulhydrat pr. 100g", value=ingrediens_data["Kulhydrat pr. 100g"])\
\
    if st.button("Opdater ingrediens"):\
        st.session_state.ingredienser.loc[st.session_state.ingredienser["Navn"] == selected_ingredient] = [\
            navn, kategori, kalorier, protein, fedt, kulhydrat\
        ]\
        st.success("Ingrediens opdateret!")\
\
else:\
    navn = st.text_input("Navn")\
    kategori = st.text_input("Kategori")\
    kalorier = st.number_input("Kalorier pr. 100g", value=0)\
    protein = st.number_input("Protein pr. 100g", value=0)\
    fedt = st.number_input("Fedt pr. 100g", value=0)\
    kulhydrat = st.number_input("Kulhydrat pr. 100g", value=0)\
\
    if st.button("Tilf\'f8j ny ingrediens") and navn:\
        ny = pd.DataFrame([[navn, kategori, kalorier, protein, fedt, kulhydrat]], columns=st.session_state.ingredienser.columns)\
        st.session_state.ingredienser = pd.concat([st.session_state.ingredienser, ny], ignore_index=True)\
        st.success("Ingrediens tilf\'f8jet!")\
\
st.subheader("Ingrediensoversigt")\
st.dataframe(st.session_state.ingredienser.sort_values("Navn").reset_index(drop=True))\
}